"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[493],{665:function(t,e,n){n.d(e,{Z:function(){return u}});var r="MoviesList_list__F7-Jl",o="MoviesList_link__QeGNK",a=n(501),c=n(871),i=n(184);function u(t){var e=t.movies,n=(0,c.TH)();return(0,i.jsx)("ul",{className:r,children:e.map((function(t){return(0,i.jsx)("li",{className:o,children:(0,i.jsx)(a.rU,{to:"/movies/".concat(t.id),state:{from:n},children:t.title})},t.id)}))})}},635:function(t,e,n){n.d(e,{wr:function(){return f},$z:function(){return l},IR:function(){return p},o7:function(){return d},JK:function(){return v}});var r=n(861),o=n(757),a=n.n(o),c="https://api.themoviedb.org/3",i="16600ad2b0f485ce73541bf9aac86f47";function u(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function t(){var e,n,r,o=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=4,fetch(e,n);case 4:if(!(r=t.sent).ok){t.next=11;break}return t.next=8,r.json();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=Promise.reject(new Error("Not found"));case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function f(){return u("".concat(c,"/trending/movie/day?api_key=").concat(i))}function l(t){return u("".concat(c,"/movie/").concat(t,"?api_key=").concat(i))}function p(t){return u("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(i,"&language=en-US&page=1"))}function d(t){return u("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(i))}function v(t){return u("".concat(c,"/search/movie?query=").concat(t,"&api_key=").concat(i,"&include_adult=false"))}},329:function(t,e,n){function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e),n.d(e,{default:function(){return V}});var c=n(885),i=n(791),u=n(501),s=n(871),f="SearchForm_searchbar__lPk7b",l="SearchForm_searchBtn__wpovR",p="SearchForm_searchForm__LpR-T",d="SearchForm_searchLabel__t+H8O",v="SearchForm_searchInput__LAr1Q",_={data:""},S=function(t){return"object"==typeof window?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_},h=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,T=/\/\*[^]*?\*\/|\s\s+|\n/g,m=function t(e,n){var r="",o="",a="",c=function(c){var u=e[c];"@"==c[0]?"i"==c[1]?r=c+" "+u+";":o+="f"==c[1]?t(u,c):c+"{"+t(u,"k"==c[1]?"":n)+"}":"object"==typeof u?o+=t(u,n?n.replace(/([^,])+/g,(function(t){return c.replace(/(^:.*)|([^,])+/g,(function(e){return/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e}))})):c):null!=u&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=t.p?t.p(c,u):c+":"+u+";"),i=c};for(var i in e)c(i);return r+(n&&a?n+"{"+a+"}":a)+o},b={},O=function t(e){if("object"==typeof e){var n="";for(var r in e)n+=r+t(e[r]);return n}return e},g=function(t,e,n,o,a){var c=O(t),i=b[c]||(b[c]=function(t){for(var e=0,n=11;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n}(c));if(!b[i]){var u=c!==t?t:function(t){for(var e,n=[{}];e=h.exec(t.replace(T,""));)e[4]?n.shift():e[3]?n.unshift(n[0][e[3]]=n[0][e[3]]||{}):n[0][e[1]]=e[2];return n[0]}(t);b[i]=m(a?r({},"@keyframes "+i,u):u,n?"":"."+i)}return function(t,e,n){-1==e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)}(b[i],e,o),i},A=function(t,e,n){return t.reduce((function(t,r,o){var a=e[o];if(a&&a.call){var c=a(n),i=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=i?"."+i:c&&"object"==typeof c?c.props?"":m(c,""):!1===c?"":c}return t+r+(null==a?"":a)}),"")};function y(t){var e=this||{},n=t.call?t(e.p):t;return g(n.unshift?n.raw?A(n,[].slice.call(arguments,1),e.p):n.reduce((function(t,n){return Object.assign(t,n&&n.call?n(e.p):n)}),{}):n,S(e.target),e.g,e.o,e.k)}y.bind({g:1}),y.bind({k:1});function E(){return E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E.apply(this,arguments)}var j,w=function(t,e){return function(t){return"function"===typeof t}(t)?t(e):t},D=function(){var t=0;return function(){return(++t).toString()}}();!function(t){t[t.ADD_TOAST=0]="ADD_TOAST",t[t.UPDATE_TOAST=1]="UPDATE_TOAST",t[t.UPSERT_TOAST=2]="UPSERT_TOAST",t[t.DISMISS_TOAST=3]="DISMISS_TOAST",t[t.REMOVE_TOAST=4]="REMOVE_TOAST",t[t.START_PAUSE=5]="START_PAUSE",t[t.END_PAUSE=6]="END_PAUSE"}(j||(j={}));var P=new Map,k=function(t){if(!P.has(t)){var e=setTimeout((function(){P.delete(t),R({type:j.REMOVE_TOAST,toastId:t})}),1e3);P.set(t,e)}},x=function t(e,n){switch(n.type){case j.ADD_TOAST:return E({},e,{toasts:[n.toast].concat(e.toasts).slice(0,20)});case j.UPDATE_TOAST:return n.toast.id&&function(t){var e=P.get(t);e&&clearTimeout(e)}(n.toast.id),E({},e,{toasts:e.toasts.map((function(t){return t.id===n.toast.id?E({},t,n.toast):t}))});case j.UPSERT_TOAST:var r=n.toast;return e.toasts.find((function(t){return t.id===r.id}))?t(e,{type:j.UPDATE_TOAST,toast:r}):t(e,{type:j.ADD_TOAST,toast:r});case j.DISMISS_TOAST:var o=n.toastId;return o?k(o):e.toasts.forEach((function(t){k(t.id)})),E({},e,{toasts:e.toasts.map((function(t){return t.id===o||void 0===o?E({},t,{visible:!1}):t}))});case j.REMOVE_TOAST:return void 0===n.toastId?E({},e,{toasts:[]}):E({},e,{toasts:e.toasts.filter((function(t){return t.id!==n.toastId}))});case j.START_PAUSE:return E({},e,{pausedAt:n.time});case j.END_PAUSE:var a=n.time-(e.pausedAt||0);return E({},e,{pausedAt:void 0,toasts:e.toasts.map((function(t){return E({},t,{pauseDuration:t.pauseDuration+a})}))})}},I=[],U={toasts:[],pausedAt:void 0},R=function(t){U=x(U,t),I.forEach((function(t){t(U)}))},F=function(t){return function(e,n){var r=function(t,e,n){return void 0===e&&(e="blank"),E({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},n,{id:(null==n?void 0:n.id)||D()})}(e,t,n);return R({type:j.UPSERT_TOAST,toast:r}),r.id}},M=function(t,e){return F("blank")(t,e)};M.error=F("error"),M.success=F("success"),M.loading=F("loading"),M.custom=F("custom"),M.dismiss=function(t){R({type:j.DISMISS_TOAST,toastId:t})},M.remove=function(t){return R({type:j.REMOVE_TOAST,toastId:t})},M.promise=function(t,e,n){var r=M.loading(e.loading,E({},n,null==n?void 0:n.loading));return t.then((function(t){return M.success(w(e.success,t),E({id:r},n,null==n?void 0:n.success)),t})).catch((function(t){M.error(w(e.error,t),E({id:r},n,null==n?void 0:n.error))})),t};!function(t,e,n,r){m.p=e,t,n,r}(i.createElement);var N=M,C=n(184);function L(t){var e=t.onSubmit,n=(0,i.useState)(""),r=(0,c.Z)(n,2),o=r[0],a=r[1];return(0,C.jsx)("div",{className:f,children:(0,C.jsxs)("form",{className:p,onSubmit:function(t){t.preventDefault(),""!==o.trim()?(e(o),a("")):N.error("Please, enter request")},children:[(0,C.jsx)("button",{type:"submit",className:l,children:(0,C.jsx)("span",{className:d,children:"Search"})}),(0,C.jsx)("input",{className:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(t){a(t.currentTarget.value.toLowerCase())}})]})})}var Z=n(635),q=n(665);function V(t){t.request;var e=(0,i.useState)(""),n=(0,c.Z)(e,2),r=n[0],o=n[1],f=(0,i.useState)([]),l=(0,c.Z)(f,2),p=l[0],d=l[1],v=(0,s.TH)(),_=(0,s.s0)(),S=(0,u.lr)(),h=(0,c.Z)(S,1)[0].get("query");(0,i.useEffect)((function(){""!==r&&Z.JK(r).then((function(t){return t.results})).then(d)}),[r]),(0,i.useEffect)((function(){null!==h&&Z.JK(h).then((function(t){return t.results})).then(d)}),[h]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L,{onSubmit:function(t){o(t),_(a(a({},v),{},{search:"query=".concat(t)}))}}),p&&(0,C.jsx)(q.Z,{movies:p})]})}}}]);
//# sourceMappingURL=movies-page.6cf684d5.chunk.js.map